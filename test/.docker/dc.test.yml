#
# docker-compose indented to be used in CI
#
version: '2'
services:
        edde-test:
                image: $IMAGE_TEST
                container_name: $PROJECT-$CI_COMMIT_REF_NAME
                environment:
                    - NEO4J_AUTH=neo4j/eeQFXk7kkqSm
                    - POSTGRES_PASSWORD=PBXxSgEWY3LT
                    - MYSQL_PASSWORD=enPUxu8SRctV
                networks:
                    - test-network
                depends_on:
                    - neo4j
                    - postgres
                    - mysql

        neo4j:
                image: neo4j:3.3-enterprise
                environment:
                    - NEO4J_AUTH=neo4j/eeQFXk7kkqSm
                    - NEO4J_ACCEPT_LICENSE_AGREEMENT=yes
                networks:
                    - test-network

        postgres:
            image: postgres:latest
            environment:
                - POSTGRES_USER=edde
                - POSTGRES_PASSWORD=PBXxSgEWY3LT
            networks:
                - test-network

        mysql:
            image: mariadb:latest
            environment:
                - MYSQL_ROOT_PASSWORD=enPUxu8SRctV
                - MYSQL_DATABASE=edde
                - MYSQL_USER=edde
                - MYSQL_PASSWORD=enPUxu8SRctV
            networks:
                - test-network

networks:
        test-network:
